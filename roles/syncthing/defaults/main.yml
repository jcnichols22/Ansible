---
# Syncthing role default variables

# Installation method: 'package' or 'official' (official repository)
syncthing_install_method: "official"

# Syncthing service user (usually the user who will run syncthing)
syncthing_user: "josh"
syncthing_home: "/home/{{ syncthing_user }}"

# Syncthing data directory (for shared folders)
# Use /syncthing for Proxmox/servers, /home/user for workstations
syncthing_data_dir: "/syncthing"
syncthing_dotfiles_dir: "{{ syncthing_data_dir }}/dotfiles-{{ syncthing_user }}"

# Syncthing configuration directory (auto-created by syncthing)
syncthing_config_dir: "{{ syncthing_home }}/.config/syncthing"

# Enable Syncthing service on boot
syncthing_service_enabled: true
syncthing_service_state: started

# Service type: 'system' or 'user'
# Use 'system' for Proxmox/servers (linger issues)
# Use 'user' for standard workstations
syncthing_service_type: "system"

# GUI settings
syncthing_gui_enabled: true
syncthing_gui_address: "127.0.0.1:8384"
syncthing_gui_user: ""
syncthing_gui_password: ""
syncthing_gui_api_key: "" # Auto-generated if not specified

# Device settings
syncthing_device_name: "{{ ansible_hostname }}"

# Devices to connect to (list of devices)
# Example:
# syncthing_devices:
#   - name: "WorkStation"
#     id: "XXXXXXX-XXXXXXX-XXXXXXX-XXXXXXX-XXXXXXX-XXXXXXX-XXXXXXX-XXXXXXX"
#     addresses: "dynamic"
#   - name: "Server"
#     id: "YYYYYYY-YYYYYYY-YYYYYYY-YYYYYYY-YYYYYYY-YYYYYYY-YYYYYYY-YYYYYYY"
#     addresses: "tcp://192.168.0.100:22000"
syncthing_devices: []

# Folders to sync
# Example:
# syncthing_folders:
#   - id: "dotfiles"
#     label: "Dotfiles"
#     path: "/syncthing/dotfiles-josh"  # or "/home/josh/dotfiles" on clients
#     devices:
#       - "LXC-Hub"
#       - "NixOS-Laptop"
#     type: "sendreceive"  # sendreceive, sendonly, receiveonly
#     rescan_interval: 3600
#     ignore_patterns:
#       - ".git"  # Don't sync git internals
#     ignore_delete: false
#     ignore_perms: false
syncthing_folders: []

# Network settings
syncthing_listen_address: "default" # or specify like "tcp://0.0.0.0:22000"
syncthing_max_send_kbps: 0 # 0 = unlimited
syncthing_max_recv_kbps: 0 # 0 = unlimited

# Global discovery and relay settings
syncthing_global_discovery_enabled: true
syncthing_local_discovery_enabled: true
syncthing_relays_enabled: true
syncthing_nat_enabled: true

# Advanced settings
syncthing_restart_on_wakeup: true
syncthing_crash_reporting: false
syncthing_usage_reporting: false

# Packages to install (Debian/Ubuntu)
syncthing_packages_debian:
  - syncthing
  - curl
  - gnupg

# Packages to install (Arch)
syncthing_packages_arch:
  - syncthing
  - curl
